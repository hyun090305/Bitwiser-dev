const translations = {
  ko: {
    loadingText: {text: "ë°ì´í„° ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..."},
    mergeTitle: {text: "ì§„í–‰ ìƒí™© ë³‘í•©"},
    mergeMessage: {text: "í˜„ì¬ ë¡œì»¬ ì§„í–‰ ìƒí™©ì„ Google ê³„ì •ê³¼ ë³‘í•©í•˜ì‹œê² ìŠµë‹ˆê¹Œ?"},
    mergeConfirmBtn: {text: "ë„¤"},
    mergeCancelBtn: {text: "ì œ ê³„ì •ì´ ì•„ë‹™ë‹ˆë‹¤"},
    overallRankingTitle: {text: "ğŸ† ì „ì²´ ë­í‚¹"},
    overallRankingList: {text: "ë¡œë”© ì¤‘â€¦"},
    labBtn: {title: "ì‹¤í—˜ì‹¤", ariaLabel: "ì‹¤í—˜ì‹¤"},
    chapterNavBtn: {title: "ìŠ¤í…Œì´ì§€ ì„ íƒ", ariaLabel: "ìŠ¤í…Œì´ì§€ ì„ íƒ"},
    userProblemsBtn: {title: "ì‚¬ìš©ì ë¬¸ì œ", ariaLabel: "ì‚¬ìš©ì ë¬¸ì œ"},
    userProblemsLocked: {text: "ì‚¬ìš©ì ë¬¸ì œëŠ” ì±•í„° 1~6ì„ ëª¨ë‘ í´ë¦¬ì–´í•˜ë©´ ì—´ë¦½ë‹ˆë‹¤."},
      startBtn: {text: "ì‹œì‘í•˜ê¸°"},
      tutorialBtn: {text: "íŠœí† ë¦¬ì–¼"},
      copyStatusBtn: {text: "ê³µìœ í•˜ê¸°"},
      googleLoginBtn: {text: "Google ë¡œê·¸ì¸"},
      settingsBtn: {text: "âš™ï¸ ì„¤ì •"},
      languageBtn: {text: "English"},
      loginGuestPrompt: {text: "êµ¬ê¸€ ë¡œê·¸ì¸ì„ í†µí•´ ì—¬ëŸ¬ ê¸°ê¸°ì—ì„œ Bitwiserë¥¼ ì¦ê²¨ë³´ì„¸ìš”!"},
      loginRankOverallLabel: {text: "ì „ì²´ ìˆœìœ„"},
      loginRankClearedLabel: {text: "í´ë¦¬ì–´í•œ ìŠ¤í…Œì´ì§€ ìˆ˜"},
    guestbookTitle: {text: "ğŸ“ ê°œë°œì(ì´í˜„ì¤€)í•œí…Œ ê¸€ ë‚¨ê¸°ê¸°"},
    guestNicknameLabel: {html: "ë‹‰ë„¤ì„: <b id='guestUsername'></b>"},
    guestMessage: {placeholder: "ë‚¨ê¸°ê³  ì‹¶ì€ ë§..."},
    guestSubmitBtn: {text: "ë“±ë¡"},
    coffeeBtn: {text: "â˜• ê°œë°œì(ì´í˜„ì¤€)í•œí…Œ ì»¤í”¼ ì‚¬ì£¼ê¸°"},
    shareTitle: {text: "ğŸ”— ê³µìœ í•  ë‚´ìš©"},
    copyShareBtn: {text: "ë³µì‚¬í•˜ê¸°"},
    closeShareBtn: {text: "ë‹«ê¸°"},
    settingsTitle: {text: "ğŸ› ï¸ì„¤ì •"},
    autoSaveLabel: {text: "íšŒë¡œ ìë™ ì €ì¥"},
    settingsCloseBtn: {text: "ë‹«ê¸°"},
    backToMainFromProblem: {text: "â† ë©”ì¸ìœ¼ë¡œ"},
    problemCreatorTitle: {text: "ğŸ“ ë¬¸ì œ ì¶œì œ"},
    addRowTopBtn: {text: "+ í–‰", title: "ìœ„ìª½ í–‰ ì¶”ê°€", ariaLabel: "ìœ„ìª½ í–‰ ì¶”ê°€"},
    removeRowTopBtn: {text: "- í–‰", title: "ìœ„ìª½ í–‰ ì œê±°", ariaLabel: "ìœ„ìª½ í–‰ ì œê±°"},
    addRowBottomBtn: {text: "+ í–‰", title: "ì•„ë˜ìª½ í–‰ ì¶”ê°€", ariaLabel: "ì•„ë˜ìª½ í–‰ ì¶”ê°€"},
    removeRowBottomBtn: {text: "- í–‰", title: "ì•„ë˜ìª½ í–‰ ì œê±°", ariaLabel: "ì•„ë˜ìª½ í–‰ ì œê±°"},
    addColLeftBtn: {text: "+ ì—´", title: "ì™¼ìª½ ì—´ ì¶”ê°€", ariaLabel: "ì™¼ìª½ ì—´ ì¶”ê°€"},
    removeColLeftBtn: {text: "- ì—´", title: "ì™¼ìª½ ì—´ ì œê±°", ariaLabel: "ì™¼ìª½ ì—´ ì œê±°"},
    addColRightBtn: {text: "+ ì—´", title: "ì˜¤ë¥¸ìª½ ì—´ ì¶”ê°€", ariaLabel: "ì˜¤ë¥¸ìª½ ì—´ ì¶”ê°€"},
    removeColRightBtn: {text: "- ì—´", title: "ì˜¤ë¥¸ìª½ ì—´ ì œê±°", ariaLabel: "ì˜¤ë¥¸ìª½ ì—´ ì œê±°"},
    inputLabel: {text: "ì…ë ¥"},
    outputLabel: {text: "ì¶œë ¥"},
    rowLabel: {text: "í–‰"},
    colLabel: {text: "ì—´"},
    updateIOBtn: {text: "ì ìš©"},
    addTestcaseRowBtn: {text: "+ í–‰ ì¶”ê°€"},
    computeOutputsBtn: {text: "ì¶œë ¥ ê³„ì‚°"},
    problemWireMoveInfo: {title: "ê¸°ë³¸ ìƒíƒœ", ariaLabel: "ê¸°ë³¸ ìƒíƒœ"},
    problemWireStatusInfo: {title: "Ctrl / Cmd - ë„ì„  ê·¸ë¦¬ê¸°", ariaLabel: "Ctrl / Cmd - ë„ì„  ê·¸ë¦¬ê¸°"},
    problemWireDeleteInfo: {title: "Shift - ë„ì„ /ë¸”ë¡ ì‚­ì œ", ariaLabel: "Shift - ë„ì„ /ë¸”ë¡ ì‚­ì œ"},
    problemWireSelectInfo: {title: "ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ - ì„ íƒ", ariaLabel: "ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ - ì„ íƒ"},
    problemDeleteAllInfo: {title: "R - íšŒë¡œ ì´ˆê¸°í™”", ariaLabel: "R - íšŒë¡œ ì´ˆê¸°í™”"},
    saveProblemBtn: {text: "ë¬¸ì œ ì €ì¥"},
    problemInfoTitle: {text: "ë¬¸ì œ ì •ë³´ ì…ë ¥"},
    problemTitleInput: {placeholder: "ë¬¸ì œ ì œëª©"},
    problemDescInput: {placeholder: "ë¬¸ì œ ì„¤ëª…"},
    problemDifficultyLabel: {text: "ë‚œì´ë„"},
    problemDifficultyValue: {text: "{value}/5"},
    problemDifficultyStarAria: {text: "ë‚œì´ë„ {value}ì "},
    problemGridSizeLabel: {text: "ê²©ì í¬ê¸°"},
    fixIOCheckLabel: {text: "IN/OUT ìœ„ì¹˜ ê³ ì •"},
    confirmSaveProblemBtn: {text: "ì €ì¥í•˜ê¸°"},
    cancelSaveProblemBtn: {text: "ì·¨ì†Œ"},
    chapterTitle: {text: "ğŸ“š ìŠ¤í…Œì´ì§€ ì„ íƒ"},
    backToMainFromChapter: {text: "â† ë©”ì¸ìœ¼ë¡œ"},
    backToMainBtn: {text: "â† ë©”ì¸ìœ¼ë¡œ"},
    backToChapterFromUserProblems: {text: "â† ë©”ì¸ìœ¼ë¡œ"},
    userProblemsTitle: {text: "ğŸ“ ì‚¬ìš©ì ë¬¸ì œ"},
    openProblemCreatorBtn: {text: "ë¬¸ì œ ë§Œë“¤ê¸°"},
    userProblemSearchLabel: {text: "ê²€ìƒ‰"},
    userProblemSearch: {placeholder: "ì œëª© ë˜ëŠ” from:ì œì‘ì"},
    userProblemSortLabel: {text: "ì •ë ¬"},
    userProblemSortLatestOption: {text: "ìµœì‹ ìˆœ"},
    userProblemSortPopularOption: {text: "ì¸ê¸°ìˆœ"},
    userProblemSortSolvedOption: {text: "í•´ê²°ìˆœ"},
    userProblemSortDifficultyOption: {text: "ë‚œì´ë„ìˆœ"},
    userProblemSortNameOption: {text: "ì´ë¦„ìˆœ"},
    userProblemSearchHelp: {text: "ì˜ˆ: XOR, from:garden"},
    userProblemFilterMine: {text: "ë‚˜ì˜ ë¬¸ì œ"},
    userProblemFilterUnsolved: {text: "ë¯¸í•´ê²°"},
    userProblemFilterPopular: {text: "ì¸ê¸°"},
    userProblemAdvancedSummary: {text: "âš™ í•„í„°"},
    userProblemFilterGridLabel: {text: "ê·¸ë¦¬ë“œ í¬ê¸°"},
    userProblemFilterGridAnyOption: {text: "ì „ì²´"},
    userProblemFilterDifficultyLabel: {text: "ë‚œì´ë„"},
    userProblemFilterDifficultyAll: {text: "ì „ì²´"},
    userProblemFilterDifficultyEasy: {text: "ì‰¬ì›€"},
    userProblemFilterDifficultyNormal: {text: "ë³´í†µ"},
    userProblemFilterDifficultyHard: {text: "ì–´ë ¤ì›€"},
    userProblemFilterMinLikesLabel: {text: "ì¢‹ì•„ìš” ìˆ˜ ì´ìƒ"},
    userProblemMinLikes: {placeholder: "0"},
    userProblemFilterCreatorLabel: {text: "ì œì‘ì"},
    userProblemCreatorFilter: {placeholder: "ì˜ˆ: garden"},
    userProblemResetFilters: {text: "í•„í„° ì´ˆê¸°í™”"},
    userProblemResultSummaryTemplate: {text: "ì´ {total}ê°œ ì¤‘ {visible}ê°œ í‘œì‹œ"},
    userProblemNoMatch: {text: "ì¡°ê±´ì— ë§ëŠ” ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤."},
    userProblemLoadFailed: {text: "ë¬¸ì œ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤."},
    rankingTitle: {text: "ğŸ† ë­í‚¹"},
    hintTitle: {text: "ğŸ’¡ íŒíŠ¸"},
    hintLabel: {text: "íŒíŠ¸"},
    hintReady: {text: "ë‹¤ìŒ íŒíŠ¸ë¥¼ ë°”ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤."},
    hintCountdown: {text: "ë‹¤ìŒ íŒíŠ¸ê¹Œì§€ {time}"},
    noHints: {text: "íŒíŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤."},
    startStageFirst: {text: "ë¨¼ì € ìŠ¤í…Œì´ì§€ë¥¼ ì‹œì‘í•˜ì„¸ìš”."},
    adHintBtn: {text: "ê´‘ê³  ë³´ê³  íŒíŠ¸ ì–»ê¸°"},
    closeHintBtn: {text: "ë‹«ê¸°"},
    closeHintMessageBtn: {text: "ë‹«ê¸°"},
    gradeButton: {text: "ì±„ì í•˜ê¸°"},
    wireMoveInfo: {title: "ê¸°ë³¸ ìƒíƒœ", ariaLabel: "ê¸°ë³¸ ìƒíƒœ"},
    wireStatusInfo: {title: "Ctrl / Cmd - ë„ì„  ê·¸ë¦¬ê¸°", ariaLabel: "Ctrl / Cmd - ë„ì„  ê·¸ë¦¬ê¸°"},
    wireDeleteInfo: {title: "Shift - ë„ì„ /ë¸”ë¡ ì‚­ì œ", ariaLabel: "Shift - ë„ì„ /ë¸”ë¡ ì‚­ì œ"},
    wireSelectInfo: {title: "ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ - ì„ íƒ", ariaLabel: "ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ - ì„ íƒ"},
    DeleteAllInfo: {title: "R - íšŒë¡œ ì´ˆê¸°í™”", ariaLabel: "R - íšŒë¡œ ì´ˆê¸°í™”"},
    usedBlocksLabel: {text: "ë¸”ë¡ ìˆ˜"},
    usedWiresLabel: {text: "ë„ì„  ìˆ˜"},
    problemUsedBlocksLabel: {text: "ë¸”ë¡ ìˆ˜"},
    problemUsedWiresLabel: {text: "ë„ì„  ìˆ˜"},
    returnToEditBtn: {text: "ğŸ›  í¸ì§‘ìœ¼ë¡œ ëŒì•„ê°€ê¸°"},
    prevStageBtnMenu: {text: "â† ì´ì „ ìŠ¤í…Œì´ì§€"},
    saveCircuitBtn: {text: "ğŸ’¾ íšŒë¡œ ì €ì¥"},
    viewSavedBtn: {text: "ğŸ’¾ ì €ì¥ëœ íšŒë¡œ ë³´ê¸°"},
    viewRankingBtn: {text: "ğŸ† ë­í‚¹ ë³´ê¸°"},
    showIntroBtn: {text: "â„¹ï¸ ìŠ¤í…Œì´ì§€ ì•ˆë‚´"},
    hintBtn: {text: "ğŸ’¡ íŒíŠ¸"},
    backToLevelsBtn: {text: "â† ë ˆë²¨ ì„ íƒìœ¼ë¡œ"},
    nextStageBtnMenu: {text: "ë‹¤ìŒ ìŠ¤í…Œì´ì§€ â†’"},
    tutPrevBtn: {text: "ì´ì „"},
    tutNextBtn: {text: "ë‹¤ìŒ"},
    tutFinishBtn: {text: "íŠœí† ë¦¬ì–¼ ë§ˆì¹˜ê¸°"},
    tutCloseBtn: {text: "ë‹«ê¸°"},
    savedListTitle: {text: "ğŸ’¾ ì €ì¥ëœ íšŒë¡œ ëª©ë¡"},
    closeSavedModal: {text: "ë‹«ê¸°"},
    gifLoadingText: {text: "GIF ìƒì„±ì¤‘..."},
    saveGifBtn: {text: "ì´ë¯¸ì§€ ì €ì¥"},
    copyGifBtn: {text: "ì´ë¯¸ì§€ ë³µì‚¬"},
    shareGifBtn: {text: "ê³µìœ í•˜ê¸°"},
    closeGifModal: {text: "ë‹«ê¸°"},
    savingCircuit: {text: "íšŒë¡œ ì €ì¥ ì¤‘..."},
    circuitSaved: {text: "íšŒë¡œê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!"},
    loginToSaveCircuit: {text: "íšŒë¡œë¥¼ ì €ì¥í•˜ë ¤ë©´ êµ¬ê¸€ ë¡œê·¸ì¸ì„ í•´ì£¼ì„¸ìš”."},
    savedShareBtn: {text: "ê³µìœ í•˜ê¸°"},
    savedNextBtn: {text: "ê³„ì†"},
    problemListTitle: {text: "ğŸ“‚ ì €ì¥ëœ ë¬¸ì œ"},
    closeProblemListModal: {text: "ë‹«ê¸°"},
    clearedTitle: {html: "ìŠ¤í…Œì´ì§€ <span id='clearedStageNumber'></span> í´ë¦¬ì–´!"},
    prevStageBtn: {text: "ì´ì „ ìŠ¤í…Œì´ì§€"},
    nextStageBtn: {text: "ë‹¤ìŒ ìŠ¤í…Œì´ì§€"},
    startLevelBtn: {text: "ì‹œì‘í•˜ê¸°"},
    stageTutBtn: {text: "ì‹œì‘í•˜ê¸°"},
    loadBtn: {text: "ë¶ˆëŸ¬ì˜¤ê¸°"},
    deleteBtn: {text: "ì‚­ì œ"},
    logoutBtn: {text: "ë¡œê·¸ì•„ì›ƒ"},
    outputMissingAlert: {text: "âŒ ë‹¤ìŒ ì¶œë ¥ ë¸”ë¡ì´ ë°°ì¹˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤: {list}"},
    noOutputsDefined: {text: "ì¶œë ¥ ë¸”ë¡ì„ ë¨¼ì € ë°°ì¹˜í•´ì£¼ì„¸ìš”."},
    loginFailed: {text: "ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì½”ë“œ: {code}, ë©”ì‹œì§€: {message}"},
    noCircuits: {text: "ì €ì¥ëœ íšŒë¡œê°€ ì—†ìŠµë‹ˆë‹¤."},
    noProblems: {text: "ì €ì¥ëœ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤."},
    noUserProblems: {text: "ë“±ë¡ëœ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤."},
    confirmDelete: {text: "ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"},
    loadFailedNoData: {text: "ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨: ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤"},
    incompatibleCircuit: {text: "ì´ íšŒë¡œë„ëŠ” ì´ì „ ë²„ì „ê³¼ í˜¸í™˜ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤."},
    loadFailed: {text: "ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨"},
    loginRequired: {text: "ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤."},
    googleLoginPrompt: {text: "êµ¬ê¸€ ë¡œê·¸ì¸ì„ í•´ì£¼ì„¸ìš”."},
    deleteFailed: {text: "ì‚­ì œ ì‹¤íŒ¨: {error}"},
    confirmDeleteAll: {text: "âš ï¸ ëª¨ë“  ë¸”ë¡ê³¼ ë°°ì„ ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?"},
    computeOutputsFirst: {text: "ì¶œë ¥ ê³„ì‚°ì„ ë¨¼ì € ì‹¤í–‰í•˜ì„¸ìš”."},
    problemTitleRequired: {text: "ë¬¸ì œ ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."},
    problemDescRequired: {text: "ë¬¸ì œ ì„¤ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."},
    problemSaved: {text: "ë¬¸ì œê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤."},
    saveFailed: {text: "ì €ì¥ ì‹¤íŒ¨: {error}"},
    thInput: {text: "ì…ë ¥"},
    thExpected: {text: "ì˜ˆìƒ ì¶œë ¥"},
    thActual: {text: "ì‹¤ì œ ì¶œë ¥"},
    thResult: {text: "ê²°ê³¼"},
    thRank: {text: "ìˆœìœ„"},
    thNickname: {text: "ë‹‰ë„¤ì„"},
    thStage: {text: "ìŠ¤í…Œì´ì§€"},
    thBlocks: {text: "ë¸”ëŸ­"},
    thWires: {text: "ë„ì„ "},
    thHintUsed: {text: "íŒíŠ¸ ì‚¬ìš©"},
    thTime: {text: "ì‹œê°„"},
    thTitle: {text: "ì œëª©"},
    thGrid: {text: "ê·¸ë¦¬ë“œ"},
    thNotes: {text: "ë¹„ê³ "},
    thCreator: {text: "ì œì‘ì"},
    thCreatedAt: {text: "ì œì‘ì¼"},
    thSolved: {text: "í•´ê²° ìˆ˜"},
    thLikes: {text: "ì¢‹ì•„ìš”"}
  },
  en: {
    loadingText: {text: "Loading data..."},
    mergeTitle: {text: "Merge Progress"},
    mergeMessage: {text: "Merge local progress with your Google account?"},
    mergeConfirmBtn: {text: "Yes"},
    mergeCancelBtn: {text: "Not my account"},
    overallRankingTitle: {text: "ğŸ† Global Ranking"},
    overallRankingList: {text: "Loading..."},
    labBtn: {title: "Lab", ariaLabel: "Lab"},
    chapterNavBtn: {title: "Select Stages", ariaLabel: "Select Stages"},
    userProblemsBtn: {title: "User Problems", ariaLabel: "User Problems"},
    userProblemsLocked: {text: "User problems unlock after clearing stages 1-6."},
    startBtn: {text: "Start"},
    tutorialBtn: {text: "Tutorial"},
    copyStatusBtn: {text: "Share"},
    googleLoginBtn: {text: "Google Login"},
    settingsBtn: {text: "âš™ï¸ Settings"},
    languageBtn: {text: "í•œêµ­ì–´"},
    loginGuestPrompt: {text: "Log in with Google to enjoy Bitwiser across devices!"},
    loginRankOverallLabel: {text: "Global Rank"},
    loginRankClearedLabel: {text: "Stages Cleared"},
    guestbookTitle: {text: "ğŸ“ Leave a message for the developer (Hyeonjun Lee)"},
    guestNicknameLabel: {html: "Nickname: <b id='guestUsername'></b>"},
    guestMessage: {placeholder: "Message..."},
    guestSubmitBtn: {text: "Submit"},
    coffeeBtn: {text: "â˜• Buy the developer (Hyeonjun Lee) a coffee"},
    shareTitle: {text: "ğŸ”— Shareable content"},
    copyShareBtn: {text: "Copy"},
    closeShareBtn: {text: "Close"},
    settingsTitle: {text: "ğŸ› ï¸ Settings"},
    autoSaveLabel: {text: "Auto-save circuit"},
    settingsCloseBtn: {text: "Close"},
    backToMainFromProblem: {text: "â† Back to Main"},
    problemCreatorTitle: {text: "ğŸ“ Problem Creator"},
    addRowTopBtn: {text: "+ Row", title: "Add top row", ariaLabel: "Add top row"},
    removeRowTopBtn: {text: "- Row", title: "Remove top row", ariaLabel: "Remove top row"},
    addRowBottomBtn: {text: "+ Row", title: "Add bottom row", ariaLabel: "Add bottom row"},
    removeRowBottomBtn: {text: "- Row", title: "Remove bottom row", ariaLabel: "Remove bottom row"},
    addColLeftBtn: {text: "+ Col", title: "Add left column", ariaLabel: "Add left column"},
    removeColLeftBtn: {text: "- Col", title: "Remove left column", ariaLabel: "Remove left column"},
    addColRightBtn: {text: "+ Col", title: "Add right column", ariaLabel: "Add right column"},
    removeColRightBtn: {text: "- Col", title: "Remove right column", ariaLabel: "Remove right column"},
    inputLabel: {text: "Inputs"},
    outputLabel: {text: "Outputs"},
    rowLabel: {text: "Rows"},
    colLabel: {text: "Cols"},
    updateIOBtn: {text: "Apply"},
    addTestcaseRowBtn: {text: "+ Add row"},
    computeOutputsBtn: {text: "Compute outputs"},
    problemWireMoveInfo: {title: "Default mode", ariaLabel: "Default mode"},
    problemWireStatusInfo: {title: "Ctrl / Cmd - Draw wire", ariaLabel: "Ctrl or Cmd - Draw wire"},
    problemWireDeleteInfo: {title: "Shift - Delete wire/block", ariaLabel: "Shift - Delete wire or block"},
    problemWireSelectInfo: {title: "Right click - Select", ariaLabel: "Right click - Select"},
    problemDeleteAllInfo: {title: "R - Reset circuit", ariaLabel: "R - Reset circuit"},
    saveProblemBtn: {text: "Save Problem"},
    problemInfoTitle: {text: "Enter Problem Info"},
    problemTitleInput: {placeholder: "Problem title"},
    problemDescInput: {placeholder: "Problem description"},
    problemDifficultyLabel: {text: "Difficulty"},
    problemDifficultyValue: {text: "{value}/5"},
    problemDifficultyStarAria: {text: "Difficulty {value} out of 5"},
    problemGridSizeLabel: {text: "Grid size"},
    fixIOCheckLabel: {text: "Fix IN/OUT positions"},
    confirmSaveProblemBtn: {text: "Save"},
    cancelSaveProblemBtn: {text: "Cancel"},
    chapterTitle: {text: "ğŸ“š Select Stage"},
    backToMainFromChapter: {text: "â† Back to Main"},
    backToMainBtn: {text: "â† Back to Main"},
    backToChapterFromUserProblems: {text: "â† Back to Main"},
    userProblemsTitle: {text: "ğŸ“ User Problems"},
    openProblemCreatorBtn: {text: "Create Problem"},
    userProblemSearchLabel: {text: "Search"},
    userProblemSearch: {placeholder: "Title or from:creator"},
    userProblemSortLabel: {text: "Sort"},
    userProblemSortLatestOption: {text: "Latest"},
    userProblemSortPopularOption: {text: "Popular"},
    userProblemSortSolvedOption: {text: "Most solved"},
    userProblemSortDifficultyOption: {text: "Difficulty"},
    userProblemSortNameOption: {text: "Name"},
    userProblemSearchHelp: {text: "e.g. XOR, from:garden"},
    userProblemFilterMine: {text: "My Problems"},
    userProblemFilterUnsolved: {text: "Unsolved"},
    userProblemFilterPopular: {text: "Popular"},
    userProblemAdvancedSummary: {text: "âš™ Filters"},
    userProblemFilterGridLabel: {text: "Grid size"},
    userProblemFilterGridAnyOption: {text: "All"},
    userProblemFilterDifficultyLabel: {text: "Difficulty"},
    userProblemFilterDifficultyAll: {text: "All"},
    userProblemFilterDifficultyEasy: {text: "Easy"},
    userProblemFilterDifficultyNormal: {text: "Normal"},
    userProblemFilterDifficultyHard: {text: "Hard"},
    userProblemFilterMinLikesLabel: {text: "Likes at least"},
    userProblemMinLikes: {placeholder: "0"},
    userProblemFilterCreatorLabel: {text: "Creator"},
    userProblemCreatorFilter: {placeholder: "e.g. garden"},
    userProblemResetFilters: {text: "Reset filters"},
    userProblemResultSummaryTemplate: {text: "Showing {visible} of {total} problems"},
    userProblemNoMatch: {text: "No problems match the selected filters."},
    userProblemLoadFailed: {text: "Failed to load user problems."},
    rankingTitle: {text: "ğŸ† Ranking"},
    hintTitle: {text: "ğŸ’¡ Hint"},
    hintLabel: {text: "Hint"},
    hintReady: {text: "You can view the next hint now."},
    hintCountdown: {text: "Time until next hint {time}"},
    noHints: {text: "No hints available."},
    startStageFirst: {text: "Start a stage first."},
    adHintBtn: {text: "Watch ad to get hint"},
    closeHintBtn: {text: "Close"},
    closeHintMessageBtn: {text: "Close"},
    gradeButton: {text: "Grade"},
    wireMoveInfo: {title: "Default mode", ariaLabel: "Default mode"},
    wireStatusInfo: {title: "Ctrl / Cmd - Draw wire", ariaLabel: "Ctrl or Cmd - Draw wire"},
    wireDeleteInfo: {title: "Shift - Delete wire/block", ariaLabel: "Shift - Delete wire or block"},
    wireSelectInfo: {title: "Right click - Select", ariaLabel: "Right click - Select"},
    DeleteAllInfo: {title: "R - Reset circuit", ariaLabel: "R - Reset circuit"},
    usedBlocksLabel: {text: "Blocks"},
    usedWiresLabel: {text: "Wires"},
    problemUsedBlocksLabel: {text: "Blocks"},
    problemUsedWiresLabel: {text: "Wires"},
    returnToEditBtn: {text: "ğŸ›  Back to Edit"},
    prevStageBtnMenu: {text: "â† Previous Stage"},
    saveCircuitBtn: {text: "ğŸ’¾ Save Circuit"},
    viewSavedBtn: {text: "ğŸ’¾ View Saved Circuits"},
    viewRankingBtn: {text: "ğŸ† View Ranking"},
    showIntroBtn: {text: "â„¹ï¸ Stage Info"},
    hintBtn: {text: "ğŸ’¡ Hint"},
    backToLevelsBtn: {text: "â† Back to Level Select"},
    nextStageBtnMenu: {text: "Next Stage â†’"},
    tutPrevBtn: {text: "Prev"},
    tutNextBtn: {text: "Next"},
    tutFinishBtn: {text: "Finish Tutorial"},
    tutCloseBtn: {text: "Close"},
    savedListTitle: {text: "ğŸ’¾ Saved Circuits"},
    closeSavedModal: {text: "Close"},
    gifLoadingText: {text: "Generating GIF..."},
    saveGifBtn: {text: "Save Image"},
    copyGifBtn: {text: "Copy Image"},
    shareGifBtn: {text: "Share"},
    closeGifModal: {text: "Close"},
    savingCircuit: {text: "Saving circuit..."},
    circuitSaved: {text: "Circuit saved!"},
    loginToSaveCircuit: {text: "Log in with Google to save the circuit."},
    savedShareBtn: {text: "Share"},
    savedNextBtn: {text: "Next"},
    problemListTitle: {text: "ğŸ“‚ Saved Problems"},
    closeProblemListModal: {text: "Close"},
    clearedTitle: {html: "Stage <span id='clearedStageNumber'></span> Cleared!"},
    prevStageBtn: {text: "Previous Stage"},
    nextStageBtn: {text: "Next Stage"},
    startLevelBtn: {text: "Start"},
    stageTutBtn: {text: "Start"},
    loadBtn: {text: "Load"},
    deleteBtn: {text: "Delete"},
    logoutBtn: {text: "Logout"},
    outputMissingAlert: {text: "âŒ Missing output blocks: {list}"},
    noOutputsDefined: {text: "Place at least one output block first."},
    loginFailed: {text: "Login failed. Code: {code}, Message: {message}"},
    noCircuits: {text: "No saved circuits."},
    noProblems: {text: "No saved problems."},
    noUserProblems: {text: "No problems available."},
    confirmDelete: {text: "Are you sure you want to delete?"},
    loadFailedNoData: {text: "Load failed: No data"},
    incompatibleCircuit: {text: "This circuit is incompatible with the current version."},
    loadFailed: {text: "Load failed"},
    loginRequired: {text: "Login required."},
    googleLoginPrompt: {text: "Please log in with Google."},
    deleteFailed: {text: "Delete failed: {error}"},
    confirmDeleteAll: {text: "âš ï¸ Delete all blocks and wires?"},
    computeOutputsFirst: {text: "Please compute outputs first."},
    problemTitleRequired: {text: "Please enter a problem title."},
    problemDescRequired: {text: "Please enter a problem description."},
    problemSaved: {text: "Problem saved."},
    saveFailed: {text: "Save failed: {error}"},
    thInput: {text: "Input"},
    thExpected: {text: "Expected"},
    thActual: {text: "Actual"},
    thResult: {text: "Result"},
    thRank: {text: "Rank"},
    thNickname: {text: "Nickname"},
    thStage: {text: "Stage"},
    thBlocks: {text: "Blocks"},
    thWires: {text: "Wires"},
    thHintUsed: {text: "Hints"},
    thTime: {text: "Time"},
    thTitle: {text: "Title"},
    thGrid: {text: "Grid"},
    thNotes: {text: "Notes"},
    thCreator: {text: "Creator"},
    thCreatedAt: {text: "Created"},
    thSolved: {text: "Solved"},
    thLikes: {text: "Likes"}
  }
};

let currentLang = localStorage.getItem('lang') || (navigator.language && navigator.language.startsWith('ko') ? 'ko' : 'en');

function applyTranslations() {
  const langMap = translations[currentLang];
  Object.keys(langMap).forEach(id => {
    const el = document.getElementById(id);
    if (!el) return;
    const {text, html, placeholder, title, ariaLabel} = langMap[id];
    if (text !== undefined) el.textContent = text;
    if (html !== undefined) el.innerHTML = html;
    if (placeholder !== undefined) el.setAttribute('placeholder', placeholder);
    if (title !== undefined) el.setAttribute('title', title);
    if (ariaLabel !== undefined) el.setAttribute('aria-label', ariaLabel);
  });
}

function setLanguage(lang) {
  currentLang = lang;
  localStorage.setItem('lang', lang);
  location.reload();
}

document.addEventListener('DOMContentLoaded', () => {
  applyTranslations();
  const langBtn = document.getElementById('languageBtn');
  if (langBtn) {
    langBtn.addEventListener('click', () => {
      setLanguage(currentLang === 'ko' ? 'en' : 'ko');
    });
  }
});

window.currentLang = currentLang;
window.t = function(id) {
  const entry = translations[currentLang][id] || translations['en'][id];
  return entry && (entry.text || entry.html) || id;
};
window.setLanguage = setLanguage;
